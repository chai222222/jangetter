{"version":3,"sources":["../../src/site/MatsumotoKiyoshiSearch.js"],"names":["MATSUMOTOKIYOSHI_CONSTANTS","searchConfig","prefix","top","searchPageSelectors","productsLink","nextLink","searchText","searchButton","productPageSelectors","jan","title","productPageImageSelectors","picture","replacer","REPLACERS","trim","toHarfWidthSpace","toHarfWidthAlnum","toOneLine","pattern","value","category","toOneSpace","MatsumotoKiyoshiSearch","JanSearchBase"],"mappings":";;;;;;;;AAAA;;AACA;;;;AACA;;;;;;;;;;AAEA,IAAMA,6BAA6B;AACjCC,gBAAc;AACZC,YAAQ,kBADI;AAEZC,SAAK,2CAFO;AAGZC,yBAAqB;AACnBC,oBAAc,oCADK;AAEnBC,gBAAU,aAFS;AAGnBC,kBAAY,4BAHO;AAInBC,oBAAc;AAJK,KAHT;AASZC,0BAAsB;AACpBC,WAAK,QADe;AAEpB;AACAC,aAAO;AAHa,KATV;AAcZC,+BAA2B;AACzBC,eAAS;AADgB,KAdf;AAiBZC,cAAU;AACRH,aAAO,CACLI,oBAAUC,IADL,EAELD,oBAAUE,gBAFL,EAGLF,oBAAUG,gBAHL,CADC;AAMRR,WAAK,CACHK,oBAAUI,SADP,EAEH;AACEC,iBAAS,kBADX;AAEEC,eAAO;AAFT,OAFG,CANG;AAaRC,gBAAU,CACRP,oBAAUQ,UADF,EAERR,oBAAUC,IAFF;AAbF;AAjBE;AADmB,CAAnC;;IAuCqBQ,sB;;;;;;;;;;;mCAEJ;AACb,aAAOxB,2BAA2BC,YAAlC;AACD;;;;EAJiDwB,uB;;kBAA/BD,sB","file":"MatsumotoKiyoshiSearch.js","sourcesContent":["import { map, mapSeries } from 'p-iteration';\nimport JanSearchBase from './JanSearchBase';\nimport { REPLACERS } from '../util/Replacer';\n\nconst MATSUMOTOKIYOSHI_CONSTANTS = {\n  searchConfig: {\n    prefix: 'MatsumotoKiyoshi',\n    top: 'https://www.matsukiyo.co.jp/store/online/',\n    searchPageSelectors: {\n      productsLink: 'div.resultList ul > li > p.img > a',\n      nextLink: '#searchMore',\n      searchText: '#frmTopPageHeaderSearchTxt',\n      searchButton: '#frmTopPageHeaderSearchBtn',\n    },\n    productPageSelectors: {\n      jan: 'p.cpde',\n      // category: 'div.breadcrumb ul',\n      title: 'div.goodsBox > h3',\n    },\n    productPageImageSelectors: {\n      picture: 'div.goodsDetail ul.bxslider > li > a',\n    },\n    replacer: {\n      title: [\n        REPLACERS.trim,\n        REPLACERS.toHarfWidthSpace,\n        REPLACERS.toHarfWidthAlnum,\n      ],\n      jan: [\n        REPLACERS.toOneLine,\n        {\n          pattern: /.*JAN\\D+(\\d+).*/g,\n          value: '$1',\n        }\n      ],\n      category: [\n        REPLACERS.toOneSpace,\n        REPLACERS.trim,\n      ],\n    },\n  },\n};\n\nexport default class MatsumotoKiyoshiSearch extends JanSearchBase {\n\n  getSrcConfig() {\n    return MATSUMOTOKIYOSHI_CONSTANTS.searchConfig;\n  }\n}\n"]}