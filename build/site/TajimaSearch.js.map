{"version":3,"sources":["../../src/site/TajimaSearch.js"],"names":["TAJIMA_CONSTANTS","searchConfig","name","prefix","top","lastSupportedDate","searchPageSelectors","productsLink","nextLink","searchText","searchButton","productPageSelectors","jan","title","selector","separator","allergy","nullables","productPageImageSelectors","picture","productPageSkipSelectors","replacer","REPLACERS","trim","pattern","value","REPLACER_FUNCTIONS","toHarfWidthAlnumDotFunc","toHarfWidthDigitFunc","toOneSpace","TajimaSearch","JanSearchBase","getSrcConfig"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG;AACvBC,EAAAA,YAAY,EAAE;AACZC,IAAAA,IAAI,EAAE,KADM;AAEZC,IAAAA,MAAM,EAAE,QAFI;AAGZC,IAAAA,GAAG,EAAE,6BAHO;AAIZC,IAAAA,iBAAiB,EAAE,sBAJP;AAKZC,IAAAA,mBAAmB,EAAE;AACnBC,MAAAA,YAAY,EAAE,gBADK;AAEnBC,MAAAA,QAAQ,EAAE,QAFS;AAGnBC,MAAAA,UAAU,EAAE,UAHO;AAInBC,MAAAA,YAAY,EAAE;AAJK,KALT;AAWZC,IAAAA,oBAAoB,EAAE;AACpBC,MAAAA,GAAG,EAAE,wCADe;AAEpB;AACAC,MAAAA,KAAK,EAAE;AACLC,QAAAA,QAAQ,EAAE,CACR,YADQ,EAER,qCAFQ,CADL;AAKLC,QAAAA,SAAS,EAAE;AALN,OAHa;AAUpBC,MAAAA,OAAO,EAAE;AACPF,QAAAA,QAAQ,EAAE;AADH;AAVW,KAXV;AAyBZG,IAAAA,SAAS,EAAE;AACTD,MAAAA,OAAO,EAAE;AADA,KAzBC;AA4BZE,IAAAA,yBAAyB,EAAE;AACzBC,MAAAA,OAAO,EAAE;AADgB,KA5Bf;AA+BZC,IAAAA,wBAAwB,EAAE,CACxB,mEADwB,CA/Bd;AAkCZC,IAAAA,QAAQ,EAAE;AACRR,MAAAA,KAAK,EAAE,CACLS,oBAAUC,IADL,EAEL;AAAEC,QAAAA,OAAO,EAAE,2CAAX;AAAwDC,QAAAA,KAAK,EAAEC,6BAAmBC;AAAlF,OAFK,EAEwG;AAC7G;AAAEH,QAAAA,OAAO,EAAE,gBAAX;AAA6BC,QAAAA,KAAK,EAAEC,6BAAmBE;AAAvD,OAHK,EAG0E;AAC/E;AAAEJ,QAAAA,OAAO,EAAE,OAAX;AAAoBC,QAAAA,KAAK,EAAE;AAA3B,OAJK,EAKL;AAAED,QAAAA,OAAO,EAAE,QAAX;AAAqBC,QAAAA,KAAK,EAAE;AAA5B,OALK,EAMLH,oBAAUO,UANL,EAOL;AAAEL,QAAAA,OAAO,EAAE,qBAAX;AAAkCC,QAAAA,KAAK,EAAE;AAAzC,OAPK,CAO4C;AAP5C,OADC;AAURT,MAAAA,OAAO,EAAE,CACP;AAAEQ,QAAAA,OAAO,EAAE,oBAAX;AAAiCC,QAAAA,KAAK,EAAE;AAAxC,OADO,EACuC;AAC9C;AAAED,QAAAA,OAAO,EAAE,kBAAX;AAA+BC,QAAAA,KAAK,EAAE;AAAtC,OAFO,CAEuC;AAFvC;AAVD;AAlCE;AADS,CAAzB;;AAqDe,MAAMK,YAAN,SAA2BC,sBAA3B,CAAyC;AAEtDC,EAAAA,YAAY,GAAG;AACb,WAAOhC,gBAAgB,CAACC,YAAxB;AACD;;AAJqD","sourcesContent":["import JanSearchBase from './JanSearchBase';\nimport { REPLACERS, REPLACER_FUNCTIONS } from '../util/Replacer';\n\nconst TAJIMA_CONSTANTS = {\n  searchConfig: {\n    name: '但馬屋',\n    prefix: 'Tajima',\n    top: 'http://www.tajimaya-cc.net/',\n    lastSupportedDate: '2024/08/14: 09:00:00',\n    searchPageSelectors: {\n      productsLink: 'ul.prod_list a',\n      nextLink: 'a.next',\n      searchText: '#search3',\n      searchButton: '#product_search2 > button',\n    },\n    productPageSelectors: {\n      jan: '//dt[contains(text(), \"JANコード\")]/../dd',\n      // category: 'li.onmark > p > a',\n      title: {\n        selector: [\n          'h1.tit_txt',\n          '//th[contains(text(), \"内容量\")]/../td',\n        ],\n        separator: ' ',\n      },\n      allergy: {\n        selector: '//th[contains(text(), \"原材料\")]/../td',\n      },\n    },\n    nullables: {\n      allergy: 'null ok',\n    },\n    productPageImageSelectors: {\n      picture: 'div.img_main_wrap img',\n    },\n    productPageSkipSelectors: [\n      '//th[contains(text(), \"カテゴリー\")]/../td/a[contains(text(), \"冷凍食品\")]',\n    ],\n    replacer: {\n      title: [\n        REPLACERS.trim,\n        { pattern: /[0-9０-９]+([.．][0-9０-９]+)?[Ａ-Ｚａ-ｚA-Za-z]+$/, value: REPLACER_FUNCTIONS.toHarfWidthAlnumDotFunc }, // 連結した内容量が数値～英数字～である場合に全角を半角にする\n        { pattern: /[０-９]+[^０-９]+$/, value: REPLACER_FUNCTIONS.toHarfWidthDigitFunc }, // 連結した内容量が全角数値～全角数値以外の場合に全角を半角にする\n        { pattern: /^エース /, value: 'エースコック ' },\n        { pattern: /^おやつC /, value: 'おやつカンパニー ' },\n        REPLACERS.toOneSpace,\n        { pattern: /([0-9]+[^0-9]+) \\1$/, value: '$1' }, // 空白数字英字が最後に同じ文字列が重複(2つ)になった場合、１つにする\n      ],\n      allergy: [\n        { pattern: /^(?!.*一部に.*を含む).*$/, value: '' }, // 一部にが含まれない場合すべて削除する\n        { pattern: /^.*一部に(.*)を含む.*$/, value: '$1' }, // ～一部にxxxxを含むの xxxx を抽出\n      ],\n    },\n  },\n};\n\nexport default class TajimaSearch extends JanSearchBase {\n\n  getSrcConfig() {\n    return TAJIMA_CONSTANTS.searchConfig;\n  }\n}\n"],"file":"TajimaSearch.js"}