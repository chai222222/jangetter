{"version":3,"sources":["../../src/util/ImageDownload.js"],"names":["name","src","outputFileName","axios","get","responseType","res","ext","substr","lastIndexOf","query","outName","fs","writeFileSync","Buffer","from","data","lastSlash","console","log"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;;qEAEe,iBAAOA,IAAP,EAAaC,GAAb,EAAkBC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEOC,gBAAMC,GAAN,CAAUH,GAAV,EAAe,EAAEI,cAAc,aAAhB,EAAf,CAFP;;AAAA;AAELC,eAFK;AAGLC,eAHK,GAGCN,IAAIO,MAAJ,CAAWP,IAAIQ,WAAJ,CAAgB,GAAhB,CAAX,CAHD;AAILC,iBAJK,GAIGH,IAAIE,WAAJ,CAAgB,GAAhB,CAJH;AAKLE,mBALK,QAKQT,cALR,IAKyBQ,QAAQ,CAAR,GAAYH,GAAZ,GAAkBA,IAAIC,MAAJ,CAAW,CAAX,EAAcE,KAAd,CAL3C;;AAMXE,yBAAGC,aAAH,CAAiBF,OAAjB,EAA0B,IAAIG,OAAOC,IAAX,CAAgBT,IAAIU,IAApB,CAA1B,EAAqD,QAArD;AACMC,qBAPK,GAOON,QAAQF,WAAR,CAAoB,GAApB,CAPP;AAAA,6CAQJQ,aAAa,CAAb,GAAiBN,QAAQH,MAAR,CAAeS,YAAY,CAA3B,CAAjB,GAAiDA,SAR7C;;AAAA;AAAA;AAAA;;AAUXC,oBAAQC,GAAR,qBAA8BnB,IAA9B;AAVW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","file":"ImageDownload.js","sourcesContent":["import axios from 'axios';\nimport fs from 'fs';\n\nexport default async (name, src, outputFileName) => {\n  try {\n    const res = await axios.get(src, { responseType: 'arraybuffer' })\n    const ext = src.substr(src.lastIndexOf('.'));\n    const query = ext.lastIndexOf('?');\n    const outName = `${outputFileName}${query < 0 ? ext : ext.substr(0, query)}`;\n    fs.writeFileSync(outName, new Buffer.from(res.data), 'binary');\n    const lastSlash = outName.lastIndexOf('/');\n    return lastSlash >= 0 ? outName.substr(lastSlash + 1) : lastSlash;\n  } catch (error) {\n    console.log(`[Image] image [${name}] Couldn't get. ${error}`);\n    return;\n  }\n}\n"]}